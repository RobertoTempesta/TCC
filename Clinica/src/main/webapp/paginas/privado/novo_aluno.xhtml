<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml">

		<f:metadata>
			<f:viewAction action="#{MBAluno.inicial}"/>
			<f:viewAction action="#{MBAluno.carregarEstados}"/>
			<f:viewAction action="#{MBAluno.listarCargos}"/>
			<f:viewAction action="#{MBAluno.listarSupervisores}"/>
			<f:viewAction action="#{MBAluno.iniciaEdicao}"/>
		</f:metadata>

	<ui:define name="content">
		<div class="ui-g">
			<div class="ui-g-12">
				<div class="card">
					<h:form id="frmNovo">

						<div class="ui-fluid">
							<p:panel header="Dados do Supervisor">
								<p:panelGrid id="pgDadosPessoa" layout="grid" columns="4"
									styleClass="ui-panelgrid-blank form-group"
									columnClasses="ui-grid-col-2,ui-grid-col-6,ui-grid-col-2,ui-grid-col-6">

									<p:outputLabel for="cpf" value="CPF:" />
									<p:inputMask id="cpf" value="#{MBAluno.pessoa.CPF}"
										mask="999.999.999-99" required="true"
										requiredMessage="É necessário digitar um CPF">
										<p:ajax event="blur" listener="#{MBAluno.verificaCPF}"
											update=":frmNovo:pgDadosPessoa  :growl" />
									</p:inputMask>

									<p:outputLabel for="nome" value="Nome:" />
									<p:inputText id="nome" value="#{MBAluno.pessoa.nome}"
										required="true" requiredMessage="É necessário digitar o Nome"
										maxlength="50" />

									<p:outputLabel for="rg" value="RG:" />
									<p:inputMask id="rg" mask="99.999.999-9" size="10"
										value="#{MBAluno.pessoa.RG}" required="true"
										requiredMessage="É necessário digitar um RG" />

									<p:outputLabel for="sexo" value="Sexo" />
									<p:selectOneRadio id="sexo" layout="responsive" columns="2"
										value="#{MBAluno.pessoa.sexo}" required="true"
										requiredMessage="É necessário selecionar o Sexo">
										<f:selectItem itemLabel="Masculino" itemValue="M" />
										<f:selectItem itemLabel="Feminino" itemValue="F" />
									</p:selectOneRadio>

									<p:outputLabel for="data" value="Nascimento:" />
									<p:calendar id="data" pattern="dd/MM/yyyy" mask="true"
										value="#{MBAluno.pessoa.dataNascimento}" required="true"
										requiredMessage="É necessário digitar a Data de Nascimento" />

									<p:outputLabel for="idade" value="Idade:" />
									<p:inputText id="idade" value="#{MBAluno.pessoa.idade}"
										required="true" requiredMessage="É necessário digitar a Idade"
										maxlength="3" />

									<p:outputLabel for="cep" value="CEP:" />
									<p:inputMask id="cep" mask="99.999-999"
										value="#{MBAluno.endereco.CEP}" required="true"
										requiredMessage="Necessario digitar um CEP">
										<p:ajax event="blur" listener="#{MBAluno.carregarCEP}"
											update=":frmNovo:rua,bairro,num,cidade,estado  :growl" />
									</p:inputMask>

									<p:outputLabel for="rua" value="Rua:" />
									<p:inputText id="rua" value="#{MBAluno.endereco.rua}"
										maxlength="50" required="true"
										requiredMessage="É necessário digitar Rua" />

									<p:outputLabel for="bairro" value="Bairro:" />
									<p:inputText id="bairro" maxlength="30"
										value="#{MBAluno.endereco.bairro}" required="true"
										requiredMessage="É necessário digitar Bairro" />

									<p:outputLabel for="num" value="Numero:" />
									<p:inputText id="num" value="#{MBAluno.endereco.numero}"
										required="true" requiredMessage="É necessário digitar Numero"
										maxlength="6" />

									<p:outputLabel for="cidade" value="Cidade:" />
									<p:inputText id="cidade" value="#{MBAluno.cidade.nome}"
										required="true" maxlength="50"
										requiredMessage="É necessário informar a cidade" />

									<p:outputLabel for="estado" value="Estado:" />
									<p:selectOneMenu id="estado" value="#{MBAluno.estado}"
										required="true"
										requiredMessage="É necessário selecionar o Estado"
										converter="omnifaces.SelectItemsConverter">
										<f:selectItem itemLabel="Selecione um Estado"
											noSelectionOption="true" />
										<f:selectItems value="#{MBAluno.estados}" var="estado"
											itemValue="#{estado}"
											itemLabel="#{estado.nome} - #{estado.sigla}" />
									</p:selectOneMenu>

									<p:outputLabel for="tel1" value="Telefone/Cel:" />
									<p:inputText id="tel1" required="true"
										requiredMessage="É nescessario inserir o telefone"
										value="#{MBAluno.pessoa.telefone1}" />

									<p:outputLabel value="Telefone/Cel (Opcional):" />
									<p:inputText value="#{MBAluno.pessoa.telefone2}" />

									<p:outputLabel value="Telefone/Cel (Opcional):" />
									<p:inputText value="#{MBAluno.pessoa.telefone3}" />

									<p:outputLabel value="Telefone/Cel (Opcional):" />
									<p:inputText value="#{MBAluno.pessoa.telefone4}" />

									<p:outputLabel for="email" value="Email:" />
									<p:inputText id="email" value="#{MBAluno.pessoa.email}"
										required="true" maxlength="100"
										requiredMessage="É necessário digitar um Email" />

									<p:outputLabel for="ra" value="RA:" />
									<p:inputText id="ra" value="#{MBAluno.aluno.RA}" maxlength="14"
										required="true" requiredMessage="É necessário digitar o RA" />
										
									<p:outputLabel for="cargo" value="Cargo:" />
									<p:selectOneMenu id="cargo" converter="omnifaces.SelectItemsConverter"
										value="#{MBAluno.aluno.cargo}" required="true">
										<f:selectItem itemLabel="Selecione" noSelectionOption="true"/>
										<f:selectItems value="#{MBAluno.cargos}" var="cargo" itemLabel="#{cargo.descricao}" 
										itemValue="#{cargo}" />
									</p:selectOneMenu>
									
									<p:outputLabel for="super" value="Supervisor:" />
									<p:selectOneMenu id="super" converter="omnifaces.SelectItemsConverter"
										value="#{MBAluno.aluno.supervisor}" required="true">
										<f:selectItem itemLabel="Selecione" noSelectionOption="true"/>
										<f:selectItems value="#{MBAluno.supervisores}" var="superv" 
										itemLabel="#{superv.pessoa.nome}" itemValue="#{superv}" />
									</p:selectOneMenu>

									<p:outputLabel for="escol" value="Escolaridade:" />
									<p:selectOneMenu id="escol"
										value="#{MBAluno.pessoa.escolaridade}" required="true"
										style="width: 50%">
										<f:selectItem itemLabel="Selecione" noSelectionOption="true" />
										<f:selectItem itemLabel="Fundamental - Incompleto"
											itemValue="Fundamental - Incompleto" />
										<f:selectItem itemLabel="Fundamental - Completo"
											itemValue="Fundamental - Completo" />
										<f:selectItem itemLabel="Médio - Incompleto"
											itemValue="Médio - Incompleto" />
										<f:selectItem itemLabel="Médio - Completo"
											itemValue="Médio - Completo" />
										<f:selectItem itemLabel="Superior - Incompleto"
											itemValue="Superior - Incompleto" />
										<f:selectItem itemLabel="Superior - Completo"
											itemValue="Superior - Completo" />
										<f:selectItem
											itemLabel="Pós-graduação (Lato senso) - Incompleto"
											itemValue="Pós-graduação (Lato senso) - Incompleto" />
										<f:selectItem
											itemLabel="Pós-graduação (Lato senso) - Completo"
											itemValue="Pós-graduação (Lato senso) - Completo" />
										<f:selectItem
											itemLabel="Pós-graduação (Stricto sensu, nível mestrado) - Incompleto"
											itemValue="Pós-graduação (Stricto sensu, nível mestrado) - Incompleto" />
										<f:selectItem
											itemLabel="Pós-graduação (Stricto sensu, nível mestrado) - Completo"
											itemValue="Pós-graduação (Stricto sensu, nível mestrado) - Completo" />
										<f:selectItem
											itemLabel="Pós-graduação (Stricto sensu, nível doutor) - Incompleto"
											itemValue="Pós-graduação (Stricto sensu, nível doutor) - Incompleto" />
										<f:selectItem
											itemLabel="Pós-graduação (Stricto sensu, nível doutor) - Completo"
											itemValue="Pós-graduação (Stricto sensu, nível doutor) - Completo" />
									</p:selectOneMenu>
								</p:panelGrid>

								<h:panelGrid columns="1" style="margin: 1em auto">
									<p:commandButton value="Salvar" actionListener="#{MBAluno.salvar}"
										update=":frmNovo:pgDadosPessoa :growl" />
								</h:panelGrid>

							</p:panel>
						</div>
					</h:form>
				</div>
			</div>
		</div>

	</ui:define>
</ui:composition>